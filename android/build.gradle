// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
  repositories {
    google()
    mavenCentral()
  }
  dependencies {
    // ✅ Google Services for Firebase (existing)
    classpath 'com.google.gms:google-services:4.4.1'
    
    // ✅ ADDED: Expo Updates Gradle Plugin
    // This is required for the expo-updates plugin to work in app/build.gradle
    // Without this, OTA updates won't be configured properly
   
    
    // Standard React Native dependencies
    classpath('com.android.tools.build:gradle')
    classpath('com.facebook.react:react-native-gradle-plugin')
    classpath('org.jetbrains.kotlin:kotlin-gradle-plugin')
  }
}

allprojects {
  repositories {
    google()
    mavenCentral()
    maven { url = uri('https://www.jitpack.io') }
  }
}

apply plugin: "expo-root-project"
apply plugin: "com.facebook.react.rootproject"

/*
 * ✅ EXPO UPDATES GRADLE PLUGIN ADDED
 * 
 * What this does:
 * - Enables the expo-updates plugin in app/build.gradle
 * - Allows the expoUpdates {} configuration block to work
 * - Embeds update configuration into the APK at build time
 * - Makes Updates.isEnabled = true in the compiled app
 * 
 * Without this classpath:
 * ❌ expo-updates plugin won't be recognized
 * ❌ expoUpdates {} block will fail
 * ❌ Updates.isEnabled will be false
 * ❌ OTA updates won't work
 * 
 * With this classpath:
 * ✅ expo-updates plugin works correctly
 * ✅ expoUpdates {} block is processed
 * ✅ Updates.isEnabled will be true
 * ✅ OTA updates work as expected
 * 
 * Version: latest.release
 * - Automatically uses the latest stable version
 * - You can also pin to a specific version like: '3.0.0'
 * - Check available versions: https://github.com/expo/expo/releases
 */